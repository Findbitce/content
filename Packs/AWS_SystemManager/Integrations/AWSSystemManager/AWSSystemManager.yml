category: Utilities
commonfields:
  id: AWS - System Manager
  version: -1
configuration:
- display: AWS Default Region
  name: defaultRegion
  options:
  - us-east-1
  - us-east-2
  - us-west-1
  - us-west-2
  - ca-central-1
  - eu-west-1
  - eu-central-1
  - eu-west-2
  - ap-northeast-1
  - ap-northeast-2
  - ap-southeast-1
  - ap-southeast-2
  - ap-south-1
  - sa-east-1
  - eu-north-1
  - eu-west-3
  - us-gov-east-1
  - us-gov-west-1
  type: 15
  required: true
- display: Role Arn
  name: roleArn
  type: 0
  required: false
- display: Role Session Name
  name: roleSessionName
  type: 0
  required: false
- display: Role Session Duration
  name: sessionDuration
  type: 0
  required: false
- display: Access Key
  name: credentials
  type: 9
  displaypassword: Secret Key
  required: false
- display: Access Key
  name: access_key
  type: 0
  hidden: true
  required: false
- display: Secret Key
  name: secret_key
  type: 4
  hidden: true
  required: false
- display: Timeout
  name: timeout
  defaultvalue: 60,10
  additionalinfo: "The time in seconds till a timeout exception is reached. You can specify just the read timeout (for example 60) or also the connect timeout followed after a comma (for example 60,10). If a connect timeout is not specified, a default of 10 seconds will be used."
  type: 0
  required: false
- display: Retries
  name: retries
  type: 0
  defaultvalue: 5
  additionalinfo: "The maximum number of retry attempts when connection or throttling errors are encountered. Set to 0 to disable retries. The default value is 5 and the limit is 10. Note: Increasing the number of retries will increase the execution time."
  required: false
- display: Trust any certificate (not secure)
  name: insecure
  type: 8
  required: false
- display: Use system proxy settings
  name: proxy
  type: 8
  required: false
description: AWS Systems Manager is the operations hub for your AWS applications and resources and a secure end-to-end management solution for hybrid cloud environments that enables safe and secure operations at scale.
display: AWS - System Manager
name: AWS - System Manager
script:
  commands:
  - arguments:
    - auto: PREDEFINED
      description: |-
        Specifies the type of resource for tagging.
        Note: The ManagedInstance type for this API operation is for on-premises managed nodes.
        Must specify the name of the managed node in the following format: mi-ID_number ``. For example, ``mi-1a2b3c4d5e6f.
      name: resource_type
      required: true
      predefined:
      - Association
      - Automation
      - Document
      - MaintenanceWindow
      - ManagedInstance
      - OpsItem
      - OpsMetadata
      - PatchBaseline
      - Parameter
    - description: 'The resource ID to be tagged.(e.g. MaintenanceWindow: mw-012345abcde, PatchBaseline: pb-012345abcde, for more example see in the README)'
      name: resource_id
      required: true
    - description: 'The name of the tag. Note: Don’t enter personally identifiable information in this field.'
      name: tag_key
      required: true
    - description: 'The value of the tag. Note: Don’t enter personally identifiable information in this field.'
      name: tag_value
      required: true
    description: |-
      Adds or overwrites one tag for the specified resource.
      Tags are metadata that you can assign to your automations, documents, managed nodes, maintenance windows, Parameter Store parameters, and patch baselines.
      Tags enable you to categorize your resources in different ways, for example, by purpose, owner, or environment.
      Each tag consists of a key and an optional value, both of which you define.
      For example, you could define a set of tags for your account’s managed nodes that helps you track each node’s owner and stack level.
      For example, Key=Owner,Value=SysAdmin.
    name: aws-ssm-tag-add
  - arguments:
    - description: The maximum number of items to return for this call, the default and max is 50. The call also returns a token that you can specify in a subsequent call to get the next set of results.
      name: limit
      defaultvalue: 50
    - description: The token for the next set of items to return. (Received this token from a previous call.)
      name: next_token
    description: Query inventory information. This includes managed node status, such as Stopped or Terminated.
    name: aws-ssm-inventory-get
    outputs:
    - contextPath: AWS.SSM.InventoryNextToken
      description: The token for the next set of items to return.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Id
      description: ID of the inventory result entity. For example, for managed node inventory the result will be the managed node ID. For EC2 instance inventory, the result will be the instance ID.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.TypeName
      description: The name of the inventory result item type.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.SchemaVersion
      description: The schema version for the inventory result item.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.CaptureTime
      description: The time inventory item data was captured.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.ContentHash
      description: MD5 hash of the inventory item type contents. The content hash is used to determine whether to update inventory information. The PutInventory API doesn’t update the inventory item type contents if the MD5 hash hasn’t changed since last update.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.AgentType
      description: The type of SSM agent running on the instance.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.AgentVersion
      description: The version of the SSM agent running on the instance.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.ComputerName
      description: The fully qualified host name of the managed node.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.IpAddress
      description: The IP address of the managed node.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.PlatformName
      description: The name of the operating system platform running on the managed node.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.PlatformType
      description: The operating system platform type.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.PlatformVersion
      description: The version of the OS platform running on the managed node.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.ResourceType
      description: The type of instance. Instances are either EC2 instances or managed instances.
      type: String
    - contextPath: AWS.SSM.Inventory.Entities.Data.Content.InstanceId
      description: The managed node ID.
      type: String
  - arguments:
    - description: 'The managed node ID to get inventory information for. Note: to get the instance ID, run the aws-ssm-inventory-get command.'
      name: instance_id
      required: True
    - description: The type of inventory item to get information for.
      name: type_name
      required: True
    - description: The maximum number of items to return for this call, the default and max is 50. The call also returns a token that you can specify in a subsequent call to get the next set of results.
      name: limit
      defaultvalue: 50
    - description: The token for the next set of items to return. (Received this token from a previous call.)
      name: next_token
    description: A list of inventory items returned by the request.
    name: aws-ssm-inventory-entry-list
    outputs:
    - contextPath: AWS.SSM.InventoryEntryNextToken
      description: The token for the next set of items to return.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.TypeName
      description: The type of inventory item returned by the request.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.InstanceId
      description: The managed node ID targeted by the request to query inventory information.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.SchemaVersion
      description: The inventory schema version used by the managed node(s).
      type: String
    - contextPath: AWS.SSM.InventoryEntry.CaptureTime
      description: The time that inventory information was collected for the managed node(s).
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.AgentVersion
      description: The version of the SSM agent running on the instance.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.AgentType
      description: The type of SSM agent running on the instance.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.ComputerName
      description: The fully qualified host name of the managed node.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.IpAddress
      description: The IP address of the managed node.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.PlatformName
      description: The name of the operating system platform running on the managed node.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.PlatformType
      description: The operating system platform type.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.PlatformVersion
      description: The version of the OS platform running on the managed node.
      type: String
    - contextPath: AWS.SSM.InventoryEntry.Entries.ResourceType
      description: The type of instance. Instances are either EC2 instances or managed instances.
      type: String
  isfetch: false
  runonce: false
  script: '-'
  type: python
  subtype: python3
  dockerimage: demisto/boto3py3:1.0.0.68490
fromversion: 6.9.0
marketplaces:
- xsoar
- marketplacev2
tests:
- No tests (auto formatted)
